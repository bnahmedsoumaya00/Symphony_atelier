{% extends 'base.html.twig' %}

{% block title %}{{ article.nom }} – Détails{% endblock %}

{% block body %}
<div class="container my-5">
    <div class="card shadow">
        <div class="card-header bg-light">
            <h1 class="h2 mb-0">{{ article.nom }}</h1>
        </div>
        <div class="card-body">
            <p class="fs-3 text-purple fw-bold">{{ article.prix }} DT</p>
            
            {# ✅ TP5: Display category in details page #}
            <p class="text-muted">
                🏷️ <strong>Catégorie :</strong> 
                {% if article.category %}
                    {{ article.category.titre }}
                {% else %}
                    <em>Aucune catégorie</em>
                {% endif %}
            </p>

            <p class="text-muted">ID de l'article : <code>{{ article.id }}</code></p>
            <hr>
            <div class="d-flex flex-wrap gap-2">
                <a href="{{ path('article_list') }}" class="btn btn-outline-secondary">← Retour à la liste</a>
                <a href="{{ path('edit_article', {'id': article.id}) }}" class="btn btn-warning">✏️ Modifier</a>
                <form method="post" action="{{ path('delete_article', {'id': article.id}) }}" 
                      onsubmit="return confirm('⚠️ Voulez-vous vraiment supprimer « {{ article.nom }} » ?');">
                    <button type="submit" class="btn btn-danger">🗑️ Supprimer</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}